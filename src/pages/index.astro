---
import Layout from "../layouts/Layout.astro";

const SUPABASE_URL = "https://wxjylkvjfnoijclnsffw.supabase.co";
const SUPABASE_KEY = "sb_secret_jAuh8XhtJtcsYsH5yPDOYw_igg62J3R";

const res = await fetch(`${SUPABASE_URL}/rest/v1/games?select=*`, {
  headers: {
    apikey: SUPABASE_KEY,
    Authorization: `Bearer ${SUPABASE_KEY}`,
  },
});

const games = await res.json();
---

<Layout>

  <style>
    body {
      margin: 0;
      font-family: 'Aldrich', sans-serif;
      color: white;
      background: url('/baggrund.gif') no-repeat center center fixed;
      background-size: cover;
    }

    .hero {
      text-align: center;
      padding: 6rem 1rem 4rem;
      position: relative;
    }

    .hero img.figur-right {
      position: absolute;
      top: 20%;
      left: 5%;
      width: 180px;
    }

    .hero img.golfmand-left {
      position: absolute;
      top: 20%;
      right: 5%;
      width: 180px;
    }

    .hero-title {
      font-size: 3rem;
      letter-spacing: 2px;
    }

    .subtext {
      margin-top: 0.5rem;
      font-size: 1.2rem;
    }

    .section-title {
      margin-top: 4rem;
      text-align: center;
      font-size: 1.6rem;
      letter-spacing: 2px;
    }

    .games-carousel {
      display: flex;
      overflow-x: auto;
      gap: 1rem;
      padding: 2rem 1rem;
      scroll-snap-type: x mandatory;
    }

    .game-card {
      min-width: 180px;
      border-radius: 12px;
      overflow: hidden;
      scroll-snap-align: center;
      background: rgba(0, 0, 0, 0.4);
      text-align: center;
      padding-bottom: 0.5rem;
    }

    .game-card img {
      width: 100%;
      display: block;
    }

    .game-card p {
      margin: 0.3rem 0;
      color: #00eaff;
      font-weight: bold;
    }

    .game-title {
      margin-top: 0.2rem;
      font-size: 1rem;
      color: white;
      font-weight: normal;
    }

    .concept-section {
      margin: 4rem auto;
      max-width: 1100px;
      padding: 0 1rem;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 2rem;
    }

    .concept-section p {
      line-height: 1.6;
    }

    .cta-wrap {
      text-align: center;
      margin-top: 2rem;
    }

    .cta-button {
      background: none;
      border: 2px solid #00eaff;
      color: #00eaff;
      padding: 0.8rem 2rem;
      border-radius: 999px;
      font-size: 1rem;
      cursor: pointer;
      transition: 0.25s;
    }

    .cta-button:hover {
      background: #00eaff;
      color: black;
    }

    .footer {
      margin-top: 4rem;
      height: 80px;
      background-image: url('/footer.png');
      background-size: cover;
      z-index: 100;
    }
  </style>

  <section class="hero">
    <img src="/fugl.png" class="fugl-over fig-anim" alt="fugl" />
    <img src="/golfmand.png" class="figur-right fig-anim" alt="Golfmand" />
    <img src="/figur.png" class="golfmand-left fig-anim" alt="Figur" />

    <h1 class="hero-title">THE CLUBHOUSE</h1>
    <p class="subtext">A simgames experience</p>
  </section>

  <h2 class="section-title">SPILOVERSIGT</h2>

  <div class="games-carousel">
    {games.map(game => (
      <div class="game-card">
        <img src={game.img} alt={game.title} />
        <p class="game-title">{game.title}</p>
      </div>
    ))}
  </div>

  <h2 class="section-title">KONCEPT</h2>

  <div class="concept-section">
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit...</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit...</p>
  </div>

  <div class="cta-wrap">
    <button class="cta-button">GAMES</button>
  </div>

  <div class="footer"></div>

</Layout>